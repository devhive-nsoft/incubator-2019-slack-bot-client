{"remainingRequest":"/home/newsmay/Desktop/test/incubator-2019-slack-bot-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/newsmay/Desktop/test/incubator-2019-slack-bot-client/src/components/user.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/newsmay/Desktop/test/incubator-2019-slack-bot-client/src/components/user.vue","mtime":1565259033429},{"path":"/home/newsmay/Desktop/test/incubator-2019-slack-bot-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/newsmay/Desktop/test/incubator-2019-slack-bot-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/newsmay/Desktop/test/incubator-2019-slack-bot-client/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/home/newsmay/Desktop/test/incubator-2019-slack-bot-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/newsmay/Desktop/test/incubator-2019-slack-bot-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {Current_User_Role, THEME_ID, THEME} from \"../constants/index.js\";\nimport {User_Email} from \"../constants/index.js\";\nimport {ACCESS_TOKEN} from \"../constants/index.js\";\nimport navigation from \"./navigation.vue\"\nimport axios from \"axios\";\nimport ClickOutside from \"vue-click-outside\";\nconst headers = {\n  'Content-Type': 'application/json',\n  'Authorization': 'Bearer ' + localStorage.getItem(ACCESS_TOKEN)\n} \nexport default {\n    name: \"user\",\n    data(){\n        return{\n           items: [\n        { title: \"Profile\" },\n        { title: \"Settings\" },\n        { title: \"Terms and Conditions\" },\n        { title: \"Log Out\" }\n      ],\n            usersData:[],\n            \n        }\n    },\n    \tmounted: function(){\n           var xhr = new XMLHttpRequest();\n         xhr.open('GET', 'http://localhost:8080/user/me');\n         \nxhr.setRequestHeader('Content-Type', 'application/json');\nif(localStorage.getItem(ACCESS_TOKEN)) {\nxhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(ACCESS_TOKEN));\n//console.log(\"dohvati ga\");\n}\nxhr.send();\n      xhr.onload = function() {\n  console.log('Signed in as: ' + xhr.responseText);\n var obj=JSON.parse(xhr.responseText);\n document.getElementById(\"email\").innerHTML=obj.email;\nlocalStorage.setItem(User_Email,obj.email);\n document.getElementById(\"ime\").innerHTML=obj.name;\n document.getElementById(\"pic\").src=obj.imageUrl;\n localStorage.setItem(Current_User_Role, obj.role);\n localStorage.setItem(THEME,obj.userSettings.theme);\n};\nif(localStorage.getItem(THEME)==\"light\"){\ndocument.getElementById(\"header\").style.backgroundColor=\"white\";\ndocument.getElementById(\"lista\").style.backgroundColor=\"white\";\n}else if(localStorage.getItem(THEME)==\"dark\") {\ndocument.getElementById(\"header\").style.backgroundColor=\"black\";\ndocument.getElementById(\"lista\").style.backgroundColor=\"black\";\n}\n    //onload funkcija\n    this.create();\n  }\n,\n    methods: {\n        showUserForm(){\n            this.$router.push(\"/dashboard/user/newUser\");\n        },\n        prikazi(index) {\n        if(index==0){\n          this.$router.push(\"/profile\");\n        }\n        else if(index==1){\n        this.$router.push(\"/settings\");\n        }\n        else if(index==2){\nthis.$router.push(\"/terms\");\n        }\n        else if(index==3){\n        localStorage.removeItem(ACCESS_TOKEN);\n        localStorage.removeItem(Current_User_Role);\n          alert(\"You're safely logged out!\");\n          this.$router.push(\"/login\");\n        }\n    }\n  },\n}\n\n",{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n<div id=\"user\">\n    <router-view></router-view>\n <div id=\"header\">\n        <h1>Users</h1>\n        <v-menu open-on-hover bottom offset-y>\n          <template v-slot:activator=\"{ on }\">\n            <div id=\"usersdata\" v-on=\"on\">\n              <i id=\"ikona\" class=\"material-icons\">arrow_drop_down</i>\n              <button id=\"slika\">\n                <img id=\"pic\" class=\"img-circle\" width=\"80\" height=\"70\" />\n              </button>\n              <div id=\"credentials\">\n                <h3 id=\"ime\"> </h3>\n                <br />\n                <p id=\"email\"> </p>\n              </div>\n            </div>\n          </template>\n          <ul id=\"settings\">\n            <li class=\"listaopcijauser\" v-for=\"(item, index) in items\" :key=\"index\" @click=\"prikazi(index)\">\n              <p id=\"opcijauser\">  {{ item.title }} </p>            </li>\n          </ul>\n        </v-menu>\n      </div>\n    <ul id=\"lista\">\n             <li id=\"title-li\">\n                 <div class=\"column1 column\"> <h5>Name</h5> <p> <i class=\"material-icons\">arrow_drop_down</i> </p> </div>\n                 <div class=\"column2 column\"> <h5>Email</h5> <p> <i class=\"material-icons\">arrow_drop_down</i> </p> </div>\n                 <div class=\"column3 column\"> <h5>ID</h5> <p> <i class=\"material-icons\">arrow_drop_down</i> </p> </div>\n             </li>\n\n        <li v-for=\"user in usersData\" :key=\"user.id\">\n            <div class='linear2'></div>\n            <div class='linear1'></div>\n            <div class='column1 column'>\n                <p> {{user.name}}</p> \n            </div> \n            <div class='column2 column'> \n                <p>{{user.Email}}</p>\n            </div>\n            <div class='column3 column'> \n                <p>{{user.ID}}</p>\n            </div>\n        </li>\n\n    </ul>\n\n   <!-- <div id=\"footer\">\n        <button id=\"footer-btn\" @click=\"toggleMenu\" v-click-outside=\"hideMenu\"> {{ this.rowSize }} Rows </button>\n        <div id=\"menu\" v-show=\"menu\">\n            <div class=\"menu-article\" v-for=\"rowValue in rowSizesValue\" :key=\"rowValue\" @click=\"setRows(rowValue)\">{{ rowValue }}</div>\n        </div>\n\n        <div class=\"text-xs-center\">\n            <v-pagination\n                v-model=\"page\"\n                :length=\"pagesSize\"\n                :total-visible=\"5\"\n                @input=\"changePage\"\n            ></v-pagination>\n        </div>\n\n    </div>    -->\n\n    <button @click=\"showUserForm\" id=\"btn\"> + </button>\n</div>\n\n</template>\n\n<script>\nimport {Current_User_Role, THEME_ID, THEME} from \"../constants/index.js\";\nimport {User_Email} from \"../constants/index.js\";\nimport {ACCESS_TOKEN} from \"../constants/index.js\";\nimport navigation from \"./navigation.vue\"\nimport axios from \"axios\";\nimport ClickOutside from \"vue-click-outside\";\nconst headers = {\n  'Content-Type': 'application/json',\n  'Authorization': 'Bearer ' + localStorage.getItem(ACCESS_TOKEN)\n} \nexport default {\n    name: \"user\",\n    data(){\n        return{\n           items: [\n        { title: \"Profile\" },\n        { title: \"Settings\" },\n        { title: \"Terms and Conditions\" },\n        { title: \"Log Out\" }\n      ],\n            usersData:[],\n            \n        }\n    },\n    \tmounted: function(){\n           var xhr = new XMLHttpRequest();\n         xhr.open('GET', 'http://localhost:8080/user/me');\n         \nxhr.setRequestHeader('Content-Type', 'application/json');\nif(localStorage.getItem(ACCESS_TOKEN)) {\nxhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(ACCESS_TOKEN));\n//console.log(\"dohvati ga\");\n}\nxhr.send();\n      xhr.onload = function() {\n  console.log('Signed in as: ' + xhr.responseText);\n var obj=JSON.parse(xhr.responseText);\n document.getElementById(\"email\").innerHTML=obj.email;\nlocalStorage.setItem(User_Email,obj.email);\n document.getElementById(\"ime\").innerHTML=obj.name;\n document.getElementById(\"pic\").src=obj.imageUrl;\n localStorage.setItem(Current_User_Role, obj.role);\n localStorage.setItem(THEME,obj.userSettings.theme);\n};\nif(localStorage.getItem(THEME)==\"light\"){\ndocument.getElementById(\"header\").style.backgroundColor=\"white\";\ndocument.getElementById(\"lista\").style.backgroundColor=\"white\";\n}else if(localStorage.getItem(THEME)==\"dark\") {\ndocument.getElementById(\"header\").style.backgroundColor=\"black\";\ndocument.getElementById(\"lista\").style.backgroundColor=\"black\";\n}\n    //onload funkcija\n    this.create();\n  }\n,\n    methods: {\n        showUserForm(){\n            this.$router.push(\"/dashboard/user/newUser\");\n        },\n        prikazi(index) {\n        if(index==0){\n          this.$router.push(\"/profile\");\n        }\n        else if(index==1){\n        this.$router.push(\"/settings\");\n        }\n        else if(index==2){\nthis.$router.push(\"/terms\");\n        }\n        else if(index==3){\n        localStorage.removeItem(ACCESS_TOKEN);\n        localStorage.removeItem(Current_User_Role);\n          alert(\"You're safely logged out!\");\n          this.$router.push(\"/login\");\n        }\n    }\n  },\n}\n\n</script>\n\n<style scoped>\n\n</style>"]}]}